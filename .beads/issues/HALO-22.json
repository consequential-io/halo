{
  "id": "HALO-22",
  "title": "Implement Meta API read tool",
  "type": "task",
  "status": "open",
  "priority": 2,
  "description": "Implement get_ad_data_from_meta() function with OAuth.\n\n## DEFERRED - Stretch Goal\nMeta API is for live demo only. BigQuery + fixtures are sufficient for AI validation and basic demo.\n\n## RESOLVED: OAuth Pattern (from implementation plan)\n```python\nimport httpx\nfrom google.adk.tools import FunctionTool\n\nMETA_API_VERSION = \"v19.0\"\nMETA_BASE_URL = f\"https://graph.facebook.com/{META_API_VERSION}\"\n\n# Required scopes: ads_read, ads_management, business_management\n\nasync def get_ad_data_from_meta(\n    access_token: str,\n    account_id: str,\n    days: int = 30\n) -> Dict:\n    async with httpx.AsyncClient() as client:\n        response = await client.get(\n            f\"{META_BASE_URL}/act_{account_id}/insights\",\n            params={\n                \"access_token\": access_token,\n                \"fields\": \"campaign_name,spend,impressions,clicks,ctr,cpc,actions\",\n                \"date_preset\": \"last_30d\",\n                \"level\": \"ad\"\n            }\n        )\n        return response.json()\n\nmeta_ad_data_tool = FunctionTool(func=get_ad_data_from_meta)\n```\n\n## Two-Step Creative Preview\n1. GET /meta-ads/ads/{adId} → get creative_id\n2. GET /meta-ads/creative/{creativeId}/preview → get preview_html",
  "labels": ["data", "meta-api", "tool", "deferred", "stretch-goal"],
  "created": "2026-01-31T08:00:00Z",
  "updated": "2026-01-31T12:00:00Z",
  "parent": "HALO-3",
  "blockedBy": ["HALO-53"]
}
